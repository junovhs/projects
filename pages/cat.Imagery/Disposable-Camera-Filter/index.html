<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Disposable Night – Modular</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <strong>Disposable Night</strong>
      <span>flash • bloom • grain</span>
    </div>
    <div class="actions">
      <label class="file">
        <input id="file" type="file" accept="image/*,video/*" />
        <button id="open">Open</button>
      </label>
      <button id="play" disabled>Play</button>
      <button id="original">Original</button>
      <button id="reset">Reset</button>
      <button id="view-fit" class="toggle on">Fit</button>
      <button id="view-1x" class="toggle">1:1</button>
      <button id="save-png">Save PNG</button>
      <button id="export-pngs">Export PNGs (.tar)</button>
      <button id="export-mp4">Export MP4</button>
    </div>
  </header>
  <main id="app">
    <aside class="panel">
      <!-- UI auto-generated from module params -->
    </aside>

    <section class="stage">
      <div id="viewport">
        <canvas id="gl"></canvas>
      </div>
      <div class="hint">Tip: click the image to place the flash.</div>
      <div id="overlay" class="overlay hidden"><div id="overlayText">Exporting… 0%</div></div>
      <div id="toast" class="toast hidden"></div>
    </section>
  </main>

  <video id="vid" playsinline muted style="display:none"></video>

  <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.6/dist/umd/ffmpeg.min.js"></script>
  <script type="module" src="app.js"></script>
</body>
</html>