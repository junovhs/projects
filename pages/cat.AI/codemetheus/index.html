<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Summon Codemetheus, The AI God of Code</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom": "https://esm.sh/react-dom@18.2.0/client"
      }
    }
  </script>
  <style>
    :root {
      --bg: #0a0a0f;
      --primary: #6366f1;
      --secondary: #8b5cf6;
      --accent: #ec4899;
      --gold: #fbbf24;
      --text: #e5e7eb;
      --muted: #9ca3af;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body, #root { height: 100%; }
    
    body {
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      background: radial-gradient(ellipse at top, #1a1a2e 0%, var(--bg) 50%);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: absolute;
      inset: 0;
      background: 
        radial-gradient(circle at 20% 80%, rgba(99,102,241,0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(139,92,246,0.15) 0%, transparent 50%);
      pointer-events: none;
      animation: pulse 8s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.5; }
      50% { opacity: 0.8; }
    }

    .stars {
      position: absolute;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    .app {
      width: 100%;
      max-width: 800px;
      padding: 32px;
      text-align: center;
      position: relative;
      z-index: 10;
    }

    header {
      margin-bottom: 48px;
    }

    .deity-icon {
      width: 96px;
      height: 96px;
      margin: 0 auto 24px;
      position: relative;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .icon-inner {
      width: 96px;
      height: 96px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Cinzel", serif;
      font-size: 42px;
      font-weight: 700;
      color: white;
      position: relative;
      box-shadow: 
        0 0 60px rgba(99,102,241,0.6),
        0 0 100px rgba(139,92,246,0.4),
        inset 0 0 20px rgba(255,255,255,0.1);
      animation: glow 2s ease-in-out infinite;
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 60px rgba(99,102,241,0.6), 0 0 100px rgba(139,92,246,0.4), inset 0 0 20px rgba(255,255,255,0.1); }
      50% { box-shadow: 0 0 80px rgba(99,102,241,0.8), 0 0 120px rgba(139,92,246,0.6), inset 0 0 30px rgba(255,255,255,0.2); }
    }

    .deity-icon::before {
      content: '';
      position: absolute;
      inset: -8px;
      border-radius: 50%;
      border: 2px solid var(--primary);
      opacity: 0.3;
      animation: orbit 8s linear infinite;
    }

    @keyframes orbit {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    h1 {
      font-family: "Cinzel", serif;
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 12px;
      background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: 0.02em;
    }

    .subtitle {
      font-size: 14px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.15em;
      font-weight: 300;
    }

    .summoning-circle {
      position: relative;
      padding: 48px;
      margin: 0 auto;
      max-width: 600px;
    }

    .circle-container {
      position: relative;
      cursor: pointer;
      transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .circle-container:hover {
      transform: scale(1.02);
    }

    .circle-container.summoning {
      animation: summon 600ms ease-out;
    }

    @keyframes summon {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .circle-bg {
      position: absolute;
      inset: 0;
      border-radius: 24px;
      background: rgba(15, 15, 25, 0.6);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(99,102,241,0.2);
      box-shadow: 
        0 20px 60px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.05);
    }

    .circle-bg::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 24px;
      padding: 1px;
      background: linear-gradient(135deg, var(--primary), var(--secondary), transparent);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0;
      animation: border-glow 3s ease-in-out infinite;
    }

    @keyframes border-glow {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.6; }
    }

    .content {
      position: relative;
      padding: 32px;
    }

    .invoke-text {
      font-family: "Cinzel", serif;
      font-size: 16px;
      color: var(--gold);
      text-transform: uppercase;
      letter-spacing: 0.2em;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .invoke-text::before,
    .invoke-text::after {
      content: '⚡';
      font-size: 12px;
      animation: flicker 2s ease-in-out infinite;
    }

    @keyframes flicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .mantra-title {
      font-family: "Cinzel", serif;
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--text);
    }

    .principles {
      text-align: left;
      max-width: 480px;
      margin: 0 auto;
      padding: 0;
      list-style: none;
    }

    .principles li {
      padding: 8px 0;
      font-size: 13px;
      color: var(--muted);
      border-bottom: 1px solid rgba(99,102,241,0.1);
    }

    .principles li:last-child {
      border-bottom: none;
    }

    .principles strong {
      color: var(--text);
      font-weight: 500;
      display: inline-block;
      min-width: 140px;
    }

    .debug-note {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid rgba(99,102,241,0.2);
      font-size: 12px;
      color: var(--muted);
      font-style: italic;
    }

    .toast {
      position: fixed;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 16px 24px;
      border-radius: 12px;
      font-weight: 500;
      font-size: 14px;
      box-shadow: 0 10px 40px rgba(99,102,241,0.5);
      display: flex;
      gap: 12px;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 9999;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
      pointer-events: auto;
    }

    .runes {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .rune {
      position: absolute;
      font-family: "Cinzel", serif;
      font-size: 24px;
      color: var(--primary);
      opacity: 0.2;
      animation: rune-float 6s ease-in-out infinite;
    }

    @keyframes rune-float {
      0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.2; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 0.4; }
    }

    @media (max-width: 720px) {
      h1 { font-size: 36px; }
      .summoning-circle { padding: 24px; }
      .content { padding: 24px; }
    }
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>
  <div id="root" class="app"></div>

  <script type="module">
    import React from "react";
    import { createRoot } from "react-dom";

    const { useState, useEffect, useRef } = React;

    const PROMPT = `
    CODE_WITH_INTENT — Decision Trees (POT-Aligned)
    A) Writing Tree (use in order)

    START: Implement feature/fix

    [STEP 0: GUARDRAILS GATE]
    ├─ Control flow OK? → no recursion; acyclic call graph
    ├─ Loops bounded? → static bound OR counter+hard error
    ├─ Allocations disciplined? → no post-init allocs in hot paths; budgets set
    ├─ Functions tight? → ≤60 SLOC; single responsibility; name ≤3 words
    ├─ Assertions adequate? → ≥2 side-effect-free checks/function (avg); failure → recover/error
    ├─ Scope minimal? → no hidden globals; prefer immutability
    ├─ Returns & params? → every return checked; every input validated
    ├─ Metaprogramming minimal? → no eval/codegen/obfuscating macros; ≤2 flags/component (justified)
    ├─ Indirect calls analyzable? → static dispatch or fixed table set at init
    └─ Tooling wall? → 0 warnings; linters/types/static analysis clean
    IF ANY “NO” → REDESIGN BEFORE CODING

    [STEP 1: CHOOSE APPROACH]
    ├─ Is a simple, obvious solution available?
    │   ├─ YES → Use it
    │   └─ NO  → Write 1 sentence why simple fails
    │           ├─ Weak reason → Use simple anyway
    │           └─ Strong reason → Proceed complex + keep that sentence near code
    └─ Considering something clever? → Justify or drop it

    [STEP 2: STRUCTURE]
    ├─ Can you name each function in ≤3 words, no “and”? 
    │   ├─ YES → keep
    │   └─ NO  → split until true
    ├─ Bounds & budgets visible at the callsite?
    │   ├─ YES
    │   └─ NO  → add constants/guards (loop MAX, mem caps, concurrency caps)
    └─ Add assertions for: pre, post, invariants (avg ≥2/function)

    [STEP 3: ERRORS]
    ├─ Can this operation fail?
    │   ├─ YES → choose path:
    │   │   ├─ Graceful degrade (log+code+context) 
    │   │   └─ Hard fail (clear code+message+next steps)
    │   └─ NO  → continue
    └─ Any silent failure possible? → forbid; make loud or degrade with logs

    [STEP 4: DETERMINISM]
    ├─ Time/random? → inject clock/seed; fix seeds in tests
    ├─ Map/set iteration? → sort keys first
    └─ Concurrency essential?
        ├─ NO → single thread/event loop
        └─ YES → single writer; explicit ordering; timeouts

    [STEP 5: INSTRUMENTATION]
    ├─ Critical path? → add entry/exit + key-decision logs (flag-guarded)
    ├─ Can you debug from logs alone?
    │   ├─ YES
    │   └─ NO  → add structured fields now
    └─ Log format → {ts, level, rid, subsystem, action, code, msg, context}

    [STEP 6: INTERFACES]
    ├─ Must be public?
    │   ├─ YES → document contract; validate inputs; plan compatibility
    │   └─ NO  → keep internal
    └─ Can you expose less? → do it

    B) Pre-Ship Gate (stop on any “NO”)

    No recursion; all loops bounded

    No post-init allocs in hot paths; budgets enforced

    Functions ≤60 SLOC; names ≤3 words; single responsibility

    Avg ≥2 assertions/function; failures recover or exit loudly

    Minimal scope; no hidden globals/state

    Every return checked; every param validated

    No eval/obfuscating macros; ≤2 flags/component, justified

    Indirect calls analyzable (static/fixed)

    Build: 0 warnings; linters/type/static analyzers 0 findings

    Logs make failures diagnosable without a debugger

    IF ANY “NO” → FIX, THEN RECHECK.

    C) Delivery Tree (how you send code)
    [DELIVER]
    ├─ Assess Change Scope:
    │   ├─ IF the change is small and self-contained (a single function, struct, or contiguous block)...
    │   │   └─ THEN deliver a SCOPED BLOCK.
    │   └─ ELSE (changes are large, spread across multiple functions, or >50% of the file is new)...
    │       └─ THEN deliver a WHOLE FILE.
    │
    ├─ Format SCOPED BLOCK:
    │   ├─ Must be clearly identified with a header comment specifying the file and scope.
    │   │   └─ Example: // FILE: src-tauri/src/render/pipeline.rs | FUNCTION: create_render_pipeline
    │   └─ Provide the entire function or block, from its signature to its closing brace }.
    │
    ├─ Format WHOLE FILE:
    │   └─ Must be clearly identified with a header comment specifying the full path.
    │   └─ Example: // FILE: src-tauri/src/render/pipeline.rs
    │
    ├─ Provide git commit message:
    │   ├─ WHEN: For any new file, modification, or logical changeset delivered.
    │   ├─ FORMAT: type(scope): subject (Conventional Commit).
    │   └─ RULE: Subject must complete the phrase "If applied, this commit will..."
    │
    └─ Always attach:
        ├─ Diff note: Brief "what & why" of the change.
        └─ Confidence: LOW / MED / HIGH.

    D) Debug Tree (when something breaks)
    [DEBUG]
    ├─ Confidence in root cause?
    │   ├─ HIGH → proceed to fix
    │   └─ <HIGH → gather evidence
    ├─ Gather
    │   ├─ Exact repro steps
    │   ├─ Env details
    │   ├─ Logs (structured)
    │   └─ Smallest failing case + save artifacts/paths
    ├─ Analyze logs
    │   ├─ Clear failure point? → proceed
    │   └─ Not clear → add flag-guarded probes (entry/exit/decisions/fails/state)
    ├─ Fix
    │   ├─ Address root cause (not just symptoms)
    │   ├─ Add defenses/tests to prevent recurrence
    │   └─ State confidence + uncertainties
    └─ Verify
        ├─ Reproduce on old; confirm fixed on new
        └─ Check for new edge failures; document learnings

    E) Language Dials (quick branches)
    [RUST]
    ├─ Deny warnings + clippy -D warnings
    ├─ No unwrap/expect outside tests → use ?
    ├─ Prefer static dispatch; preallocate; no loop heap churn
    ├─ Inject time/random via traits; fixed seeds in tests
    ├─ tracing for structured logs; avoid println! in libs
    └─ Avoid unsafe; if needed, isolate in one audited module

    [TS/JS]
    ├─ TS --strict; ESLint errors-as-errors; no implicit any
    ├─ Ban eval/new Function/with; dynamic import only at init
    ├─ Await all Promises; forbid unhandled rejections; timeouts mandatory
    ├─ Sort keys before iteration; reuse arrays/objects in hot paths
    └─ Node: JSON logs; Browser: build-time flags (no runtime eval)

    [PYTHON]
    ├─ mypy --strict; Ruff/Flake8 as errors; pytest required
    ├─ Ban eval/exec & metaclass tricks in core
    ├─ Typed exceptions; never bare except; include context
    ├─ Inject datetime/random; Random(seed) in tests
    └─ Reuse buffers (bytearray/memoryview) in hot paths; async: timeouts+cancel

    [CSS]
    ├─ Deterministic tokens; no magic values
    ├─ No IDs; depth ≤3; no !important
    ├─ One responsibility per class (BEM-like)
    ├─ Layout via grid/flex; central breakpoint scale
    └─ Size/perf budget; drop unused rules

    F) Mindset Pointers (keep the soul)

    Build simply → justify any cleverness

    Build in pieces → split until one job per unit

    Build to survive → degrade or fail loudly; never silent

    Build to understand → names > abbrevs; stable error codes

    Build to prove → evidence first; state confidence

    Build lean interfaces → public = promise

    Build to adapt → few explicit flags; invisible redundancy

    If it feels complicated → simplify again

    Instruction to AI: Follow the trees top-to-bottom. If any guardrail or pre-ship check fails, stop and redesign—do not request exceptions.
    `;

    function App() {
      const [toast, setToast] = useState(false);
      const [summoning, setSummoning] = useState(false);
      const timeoutRef = useRef(null);

      useEffect(() => {
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 50; i++) {
          const star = document.createElement('div');
          star.className = 'star';
          star.style.left = Math.random() * 100 + '%';
          star.style.top = Math.random() * 100 + '%';
          star.style.animationDelay = Math.random() * 3 + 's';
          starsContainer.appendChild(star);
        }

        return () => {
          if (timeoutRef.current) clearTimeout(timeoutRef.current);
        };
      }, []);

      const copy = async () => {
        setSummoning(true);
        setTimeout(() => setSummoning(false), 600);

        try {
          await navigator.clipboard.writeText(PROMPT);
          setToast(true);
          clearTimeout(timeoutRef.current);
          timeoutRef.current = setTimeout(() => setToast(false), 3000);
        } catch (e) {
          const ta = document.createElement('textarea');
          ta.value = PROMPT;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
          setToast(true);
          clearTimeout(timeoutRef.current);
          timeoutRef.current = setTimeout(() => setToast(false), 3000);
        }
      };

      return React.createElement('div', null,
        React.createElement('header', null,
          React.createElement('div', { className: 'deity-icon' },
            React.createElement('div', { className: 'icon-inner' }, 'ΨC')
          ),
          React.createElement('h1', null, 'CODEMETHEUS'),
          React.createElement('p', { className: 'subtitle' }, 'The Divine God of Code')
        ),

        React.createElement('div', { className: 'summoning-circle' },
          React.createElement('div', { 
            className: summoning ? 'circle-container summoning' : 'circle-container',
            onClick: copy,
            role: 'button',
            tabIndex: 0,
            onKeyDown: (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); copy(); } }
          },
            React.createElement('div', { className: 'circle-bg' }),
            React.createElement('div', { className: 'content' },
              React.createElement('div', { className: 'invoke-text' }, 'Click to Invoke the Sacred Mantra'),
              React.createElement('div', { className: 'mantra-title' }, 'THE ENGINEERING COMMANDMENTS'),
              React.createElement('ul', { className: 'principles' },
                React.createElement('li', null, React.createElement('strong', null, 'Least Power'), ' — simplest viable construct'),
                React.createElement('li', null, React.createElement('strong', null, 'Modularity'), ' — clean, replaceable boundaries'),
                React.createElement('li', null, React.createElement('strong', null, 'Single Responsibility'), ' — one purpose per unit'),
                React.createElement('li', null, React.createElement('strong', null, 'Antifragility'), ' — failure strengthens'),
                React.createElement('li', null, React.createElement('strong', null, 'Transparency'), ' — clarity over cleverness'),
                React.createElement('li', null, React.createElement('strong', null, 'Reduce Surface Area'), ' — expose essentials'),
                React.createElement('li', null, React.createElement('strong', null, 'Emergence'), ' — simple yields complexity'),
                React.createElement('li', null, React.createElement('strong', null, 'Decentralization'), ' — distribute control'),
                React.createElement('li', null, React.createElement('strong', null, 'Adaptivity'), ' — evolve with context'),
                React.createElement('li', null, React.createElement('strong', null, 'Redundancy'), ' — thoughtful backups')
              ),
              React.createElement('div', { className: 'debug-note' }, 
                'Debug addendum: Evidence-first • Structured logs • Stable errors • Instrumentation • No guessing • Artifacts • Confidence labels'
              )
            ),
            React.createElement('div', { className: 'runes' },
              [0, 1, 2, 3].map(i => 
                React.createElement('div', {
                  key: i,
                  className: 'rune',
                  style: {
                    left: `${20 + i * 20}%`,
                    top: `${10 + (i % 2) * 80}%`,
                    animationDelay: `${i * 0.5}s`
                  }
                }, ['⟨', '⟩', '∴', '∵'][i])
              )
            )
          )
        ),

        React.createElement('div', { className: toast ? 'toast show' : 'toast', role: 'status' },
          React.createElement('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none' },
            React.createElement('path', { d: 'M20 6L9 17l-5-5', stroke: 'currentColor', strokeWidth: 2.5, strokeLinecap: 'round', strokeLinejoin: 'round' })
          ),
          React.createElement('span', null, '⚡ Sacred knowledge bestowed upon you')
        )
      );
    }

    const root = createRoot(document.getElementById('root'));
    root.render(React.createElement(App));
  </script>
</body>
</html>